{% extends "base.html" %}

{% block content %}
<h2>Restaurant Inventory</h2>
<div id="ingredients">
    <h3>Ingredients</h3>
    <ul>
    {% for ingredient in ingredients %}
        <li>
            {{ ingredient.name }}: {{ ingredient.quantity }} {{ ingredient.unit }}
            <a href="{% url 'ingredient_delete' ingredient.pk %}" class="delete-link">Delete</a>
        </li>
    {% endfor %}
    </ul>
</div>

<div id="purchases">
    <h3>Purchases</h3>
    <ul>
    {% for purchase in purchases %}
        <li>{{ purchase.menu_item.title }} purchased at {{ purchase.timestamp }}</li>
    {% endfor %}
    </ul>
</div>

<div id="menu">
    <h3>Menu</h3>
    <ul>
    {% for item in menu_items %}
        <li>
            {{ item.title }} - Price: {{ item.price }}
            <ul>
            {% for requirement in item.reciperequirement_set.all %}
                <li>{{ requirement.ingredient.name }}: {{ requirement.quantity }}</li>
            {% endfor %}
            </ul>
        </li>
    {% endfor %}
    </ul>
</div>

<div id="financials">
    <h3>Financials</h3>
    <p>Total Revenue: {{ total_revenue }}</p>
    <p>Total Cost: {{ total_cost }}</p>
    <p>Profit: {{ profit }}</p>
</div>
{% endblock %}